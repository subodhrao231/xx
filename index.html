<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Penalty Challenge - Full Screen</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            background: black;
        }
        #game-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
        }
        #game-frame {
            width: 100%;
            height: 100%;
            border: none;
        }
    </style>
</head>
<body>
    <div id="game-container">
        <iframe id="game-frame" src="https://multimovies.media/" sandbox="allow-scripts allow-same-origin" allowfullscreen></iframe>
    </div>

    <script>
        // Enhanced ad blocking
        const adDomains = [
            'doubleclick.net',
            'googleads.g.doubleclick.net',
            'googlesyndication.com',
            'adservice.google.com',
            'ads.playgama.com',
            'adserver.playgama.com',
            'popads.net',
            'propellerads.com',
            'adcash.com',
            'popundernet.com',
            'adblade.com',
            'revcontent.com',
            'outbrain.com',
            'taboola.com',
            'multimovies.media/ad',
            'adnetwork'
        ];
        
        // Block fetch requests
        if (window.Proxy) {
            const originalFetch = window.fetch;
            window.fetch = new Proxy(window.fetch, {
                apply: function(target, thisArg, args) {
                    const url = args[0];
                    if (typeof url === 'string' && adDomains.some(domain => url.includes(domain))) {
                        console.log('Blocked ad request to:', url);
                        return Promise.reject(new Error('Ad blocked'));
                    }
                    return target.apply(thisArg, args);
                }
            });
        }

        // Block XMLHttpRequest
        const originalXHR = window.XMLHttpRequest;
        window.XMLHttpRequest = function() {
            const xhr = new originalXHR();
            const originalOpen = xhr.open;
            xhr.open = function(method, url) {
                if (typeof url === 'string' && adDomains.some(domain => url.includes(domain))) {
                    console.log('Blocked XHR ad request to:', url);
                    throw new Error('Ad blocked');
                }
                return originalOpen.apply(this, arguments);
            };
            return xhr;
        };

        // Prevent window.open (common for popunders)
        window.open = function() {
            console.log('Blocked popup/popunder attempt');
            return null;
        };

        // Block common popunder techniques
        window.addEventListener('blur', function() {
            if(document.activeElement === document.getElementById('game-frame')) {
                window.focus();
            }
        });

        // MutationObserver to detect and remove ad elements
        const observer = new MutationObserver(function(mutations) {
            mutations.forEach(function(mutation) {
                if (mutation.addedNodes) {
                    mutation.addedNodes.forEach(function(node) {
                        if (node.nodeType === 1) { // Element node
                            if (node.innerHTML && adDomains.some(domain => node.innerHTML.includes(domain))) {
                                node.remove();
                                console.log('Removed ad element');
                            }
                        }
                    });
                }
            });
        });

        observer.observe(document.body, {
            childList: true,
            subtree: true
        });

        // Sandbox the iframe more aggressively
        document.getElementById('game-frame').setAttribute('sandbox', 
            'allow-scripts allow-same-origin allow-forms allow-pointer-lock');
    </script>
</body>
</html>
